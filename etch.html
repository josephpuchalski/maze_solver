<!DOCTYPE html>
<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script>


$(document).ready(function(){

function newGrid() {
  var container = $("#container");

  var cheight = container.height();
  var cwidth = container.width();

  var input = prompt("How many grids do you want?");

  var gheight = cheight / input;
  var gwidth = cwidth / input;

  console.log(gheight);
  console.log(gwidth);

  window.input = input;

  var gridCount = input * input;

  for (var i = 0; i < gridCount; i++){
      $("#container").append(`<div class='grid' id=${i}></div>`);
  };

  $(".grid").height(gheight + "px").width(gwidth + "px");

  $(".grid").on("click", function() {
    $(this).toggleClass("black");
  })
};

$(".create-grid").on("click", function() {
  $(".grid").remove();
  newGrid();
});

$(".solve").on("click", function() {
  const processChunk = parseInt(window.input);
  let result = [];
  let chunk= [];
  Array.from($(".grid")).forEach(block => {

    if (block.className.includes("black")) {
      chunk.push("block");
    } else {
      chunk.push("open");
    }

    if (chunk.length === processChunk) {
      result.push(chunk);
      chunk = [];
    }
  })
  console.log(result);
  return result;
});


});

</script>
<style>
* {
  margin:0;
  padding:0;
}



#container {
  position:relative;
  background:white;
  width:1000px;
  height:1000px;
  margin:0 auto;
}


.grid {
  float:left;
  background:white;
  box-shadow: inset 0 0 1px silver;
}

body {
  text-align:center;

}
button {

}

.black {
  background: black;
}

</style>
</head>
<body>
  <div class="control-panel">
    <button class="create-grid">CREATE GRID</button>
    <button>GENERATE GRID</button>
    <button class="solve">SOLVE</button>
    <button>VISUAL SOLVE</button>
  </div>
  <div id="container">
  </div>
</body>
</html>
